---
---

<!-- 스크롤 진행률 표시바 -->
<div id="scroll-progress" class="fixed top-16 left-0 w-full h-1 bg-gray-200 dark:bg-gray-700 z-40">
  <div id="scroll-progress-bar" class="h-full bg-gradient-to-r from-primary-500 to-primary-600 transition-all duration-150 ease-out" style="width: 0%"></div>
</div>

<!-- 맨 위로 버튼 -->
<button
  id="scroll-to-top"
  class="fixed bottom-8 right-8 w-12 h-12 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 opacity-0 invisible translate-y-4 z-40"
  aria-label="맨 위로 이동"
  title="맨 위로 이동"
>
  <svg class="w-6 h-6 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
  </svg>
</button>

<script>
  // @ts-nocheck
  document.addEventListener('DOMContentLoaded', () => {
    const scrollProgressBar = document.getElementById('scroll-progress-bar');
    const scrollToTopBtn = document.getElementById('scroll-to-top');
    
    if (!scrollProgressBar || !scrollToTopBtn) return;

    // 스크롤 진행률 업데이트
    function updateScrollProgress() {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrollPercent = (scrollTop / scrollHeight) * 100;
      
      scrollProgressBar.style.width = `${Math.min(scrollPercent, 100)}%`;
      
      // Header 높이에 따라 진행률 바 위치 동적 조정
      const header = document.querySelector('header');
      if (header) {
        const headerHeight = header.offsetHeight;
        document.getElementById('scroll-progress').style.top = `${headerHeight}px`;
      }
      
      // 맨 위로 버튼 표시/숨김
      if (scrollTop > 300) {
        scrollToTopBtn.classList.remove('opacity-0', 'invisible', 'translate-y-4');
        scrollToTopBtn.classList.add('opacity-100', 'visible', 'translate-y-0');
      } else {
        scrollToTopBtn.classList.add('opacity-0', 'invisible', 'translate-y-4');
        scrollToTopBtn.classList.remove('opacity-100', 'visible', 'translate-y-0');
      }
    }

    // 맨 위로 스크롤
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // 이벤트 리스너
    window.addEventListener('scroll', updateScrollProgress, { passive: true });
    scrollToTopBtn.addEventListener('click', scrollToTop);

    // 초기 상태 설정
    updateScrollProgress();
  });
</script>

<style>
  /* 부드러운 스크롤 애니메이션 */
  html {
    scroll-behavior: smooth;
  }
  
  /* 맨 위로 버튼 호버 효과 */
  #scroll-to-top:hover {
    transform: translateY(-2px);
  }
  
  /* 접근성을 위한 포커스 스타일 */
  #scroll-to-top:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }
</style>