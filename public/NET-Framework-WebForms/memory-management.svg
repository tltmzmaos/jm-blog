<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Background gradient -->
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#1e293b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#334155;stop-opacity:1" />
    </linearGradient>
    
    <!-- Bad example gradient -->
    <linearGradient id="badGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444;stop-opacity:0.2" />
      <stop offset="100%" style="stop-color:#dc2626;stop-opacity:0.3" />
    </linearGradient>
    
    <!-- Good example gradient -->
    <linearGradient id="goodGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:0.2" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:0.3" />
    </linearGradient>
    
    <!-- Warning gradient -->
    <linearGradient id="warningGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:0.2" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:0.3" />
    </linearGradient>
    
    <!-- Info gradient -->
    <linearGradient id="infoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.2" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:0.3" />
    </linearGradient>
    
    <!-- Glow filter -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Shadow filter -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000000" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="700" fill="url(#bg)"/>
  
  <!-- Title with glow effect -->
  <text x="600" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="36" font-weight="bold" fill="#ffffff" filter="url(#glow)">
    ğŸ§  Memory Management Best Practices
  </text>
  
  <!-- Subtitle -->
  <text x="600" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#94a3b8">
    Preventing memory leaks and optimizing resource usage in WebForms
  </text>
  
  <!-- Bad Example Section -->
  <rect x="80" y="120" width="520" height="220" fill="url(#badGrad)" stroke="#ef4444" stroke-width="3" rx="20" filter="url(#shadow)"/>
  <text x="340" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#fca5a5">
    âŒ Memory Leaks - What NOT to Do
  </text>
  
  <!-- Bad code example -->
  <rect x="100" y="170" width="480" height="150" fill="#1f2937" stroke="#ef4444" stroke-width="2" rx="10"/>
  <text x="120" y="195" font-family="monospace" font-size="13" fill="#fca5a5">public partial class BadExample : Page</text>
  <text x="120" y="215" font-family="monospace" font-size="13" fill="#ffffff">{</text>
  <text x="140" y="235" font-family="monospace" font-size="13" fill="#fbbf24">    private SqlConnection connection =</text>
  <text x="140" y="255" font-family="monospace" font-size="13" fill="#fbbf24">        new SqlConnection(connectionString);</text>
  <text x="140" y="275" font-family="monospace" font-size="13" fill="#ef4444">    // âŒ Connection never disposed!</text>
  <text x="140" y="295" font-family="monospace" font-size="13" fill="#ef4444">    // âŒ Memory leak - resources not released</text>
  <text x="120" y="315" font-family="monospace" font-size="13" fill="#ffffff">}</text>
  
  <!-- Good Example Section -->
  <rect x="620" y="120" width="520" height="220" fill="url(#goodGrad)" stroke="#10b981" stroke-width="3" rx="20" filter="url(#shadow)"/>
  <text x="880" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#86efac">
    âœ… Proper Resource Management
  </text>
  
  <!-- Good code example -->
  <rect x="640" y="170" width="480" height="150" fill="#1f2937" stroke="#10b981" stroke-width="2" rx="10"/>
  <text x="660" y="195" font-family="monospace" font-size="13" fill="#86efac">public partial class GoodExample : Page</text>
  <text x="660" y="215" font-family="monospace" font-size="13" fill="#ffffff">{</text>
  <text x="680" y="235" font-family="monospace" font-size="13" fill="#34d399">    using (var connection =</text>
  <text x="680" y="255" font-family="monospace" font-size="13" fill="#34d399">        new SqlConnection(connectionString))</text>
  <text x="680" y="275" font-family="monospace" font-size="13" fill="#ffffff">    {</text>
  <text x="700" y="295" font-family="monospace" font-size="13" fill="#ffffff">        // Use connection safely</text>
  <text x="680" y="315" font-family="monospace" font-size="13" fill="#10b981">    } // âœ… Automatically disposed</text>
  <text x="660" y="335" font-family="monospace" font-size="13" fill="#ffffff">}</text>
  
  <!-- Event Handler Issues Section -->
  <rect x="80" y="360" width="520" height="180" fill="url(#warningGrad)" stroke="#f59e0b" stroke-width="3" rx="20" filter="url(#shadow)"/>
  <text x="340" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#fbbf24">
    âš ï¸ Event Handler Memory Leaks
  </text>
  
  <!-- Bad event handler example -->
  <rect x="100" y="410" width="480" height="110" fill="#1f2937" stroke="#f59e0b" stroke-width="2" rx="10"/>
  <text x="120" y="435" font-family="monospace" font-size="13" fill="#fbbf24">protected void Page_Load(object sender, EventArgs e)</text>
  <text x="120" y="455" font-family="monospace" font-size="13" fill="#ffffff">{</text>
  <text x="140" y="475" font-family="monospace" font-size="13" fill="#ef4444">    // âŒ Event handler added but never removed</text>
  <text x="140" y="495" font-family="monospace" font-size="13" fill="#fbbf24">    SomeStaticEvent += HandleEvent;</text>
  <text x="140" y="515" font-family="monospace" font-size="13" fill="#ef4444">    // âŒ This creates a memory leak!</text>
  <text x="120" y="535" font-family="monospace" font-size="13" fill="#ffffff">}</text>
  
  <!-- Event Handler Solution Section -->
  <rect x="620" y="360" width="520" height="180" fill="url(#infoGrad)" stroke="#3b82f6" stroke-width="3" rx="20" filter="url(#shadow)"/>
  <text x="880" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#93c5fd">
    âœ… Proper Event Cleanup
  </text>
  
  <!-- Good event handler example -->
  <rect x="640" y="410" width="480" height="110" fill="#1f2937" stroke="#3b82f6" stroke-width="2" rx="10"/>
  <text x="660" y="435" font-family="monospace" font-size="13" fill="#93c5fd">protected void Page_Unload(object sender, EventArgs e)</text>
  <text x="660" y="455" font-family="monospace" font-size="13" fill="#ffffff">{</text>
  <text x="680" y="475" font-family="monospace" font-size="13" fill="#10b981">    // âœ… Remove event handler to prevent leaks</text>
  <text x="680" y="495" font-family="monospace" font-size="13" fill="#34d399">    SomeStaticEvent -= HandleEvent;</text>
  <text x="680" y="515" font-family="monospace" font-size="13" fill="#10b981">    // âœ… Memory properly released</text>
  <text x="660" y="535" font-family="monospace" font-size="13" fill="#ffffff">}</text>
  
  <!-- Best Practices Section -->
  <rect x="80" y="560" width="1040" height="120" fill="rgba(255,255,255,0.08)" stroke="rgba(255,255,255,0.15)" stroke-width="2" rx="20" filter="url(#shadow)"/>
  <text x="600" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#ffffff">
    ğŸ¯ Memory Management Best Practices
  </text>
  
  <!-- Best practices grid -->
  <text x="120" y="620" font-family="Arial, sans-serif" font-size="14" fill="#34d399">âœ… Use 'using' statements for IDisposable objects</text>
  <text x="120" y="640" font-family="Arial, sans-serif" font-size="14" fill="#34d399">âœ… Remove event handlers in Page_Unload or Dispose</text>
  <text x="120" y="660" font-family="Arial, sans-serif" font-size="14" fill="#34d399">âœ… Clear large collections when finished</text>
  
  <text x="620" y="620" font-family="Arial, sans-serif" font-size="14" fill="#34d399">âœ… Dispose database connections and commands properly</text>
  <text x="620" y="640" font-family="Arial, sans-serif" font-size="14" fill="#34d399">âœ… Avoid static references to page or control objects</text>
  <text x="620" y="660" font-family="Arial, sans-serif" font-size="14" fill="#34d399">âœ… Use weak references for long-lived event subscriptions</text>
  
  <!-- Memory leak indicators -->
  <circle cx="50" cy="180" r="15" fill="#ef4444" filter="url(#glow)"/>
  <text x="50" y="187" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">!</text>
  
  <circle cx="1150" cy="180" r="15" fill="#10b981" filter="url(#glow)"/>
  <text x="1150" y="187" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">âœ“</text>
  
  <circle cx="50" cy="420" r="15" fill="#f59e0b" filter="url(#glow)"/>
  <text x="50" y="427" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">âš </text>
  
  <circle cx="1150" cy="420" r="15" fill="#3b82f6" filter="url(#glow)"/>
  <text x="1150" y="427" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">i</text>
</svg>